<!DOCTYPE html>
<html lang="de">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>DIVE â€” Atem- &amp; Atemanhalte-Trainer</title>
  <link rel="stylesheet" href="style.css">
  <link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>ğŸ«</text></svg>">
</head>
<body>
  <!-- ocean background (must be first for mobile z-index stacking) -->
  <div id="oceanBg"></div>
  <canvas id="oceanCanvas"></canvas>

  <!-- ============ LANDING / HOME ============ -->
  <section id="home" class="screen active">
    <div class="home-content">
      <h1 class="logo">DIVE</h1>
      <p class="tagline" data-i18n="tagline">Atem- &amp; Atemanhalte-Trainer</p>

      <!-- Language switcher -->
      <div class="lang-switcher">
        <button class="lang-toggle" id="langToggle">
          ğŸŒ <span id="langActiveLabel">DE</span>
        </button>
        <div class="lang-dropdown" id="langDropdown">
          <button class="lang-option" data-lang="de">ğŸ‡©ğŸ‡ª Deutsch</button>
          <button class="lang-option" data-lang="en">ğŸ‡¬ğŸ‡§ English</button>
          <button class="lang-option" data-lang="es">ğŸ‡ªğŸ‡¸ EspaÃ±ol</button>
          <button class="lang-option" data-lang="fr">ğŸ‡«ğŸ‡· FranÃ§ais</button>
        </div>
      </div>

      <div class="exercise-grid">
        <!-- Interval Breath-Hold -->
        <button class="exercise-card" data-exercise="interval">
          <span class="card-info-icon" data-info="interval" title="Info">â“˜</span>
          <span class="card-icon">â±ï¸</span>
          <span class="card-title" data-i18n="intervalTitle">Intervall-Atemanhalten</span>
          <span class="card-desc" data-i18n="intervalDesc">Halte die Luft an mit abnehmenden Ruhepausen</span>
        </button>

        <!-- Wim Hof Method -->
        <button class="exercise-card" data-exercise="wimhof">
          <span class="card-info-icon" data-info="wimhof" title="Info">â“˜</span>
          <span class="card-icon">â„ï¸</span>
          <span class="card-title" data-i18n="wimhofTitle">Wim-Hof-Methode</span>
          <span class="card-desc" data-i18n="wimhofDesc">30 Power-AtemzÃ¼ge, Anhalten &amp; Erholung â€” 3 Runden</span>
        </button>

        <!-- Box Breathing -->
        <button class="exercise-card" data-exercise="box">
          <span class="card-info-icon" data-info="box" title="Info">â“˜</span>
          <span class="card-icon">â¬œ</span>
          <span class="card-title" data-i18n="boxTitle">Box-Atmung</span>
          <span class="card-desc" data-i18n="boxDesc">Einatmen Â· Halten Â· Ausatmen Â· Halten â€” gleiche Zeiten</span>
        </button>

        <!-- 4-7-8 Breathing -->
        <button class="exercise-card" data-exercise="478">
          <span class="card-info-icon" data-info="478" title="Info">â“˜</span>
          <span class="card-icon">ğŸŒ™</span>
          <span class="card-title" data-i18n="478Title">4-7-8 Atmung</span>
          <span class="card-desc" data-i18n="478Desc">Beruhige dein Nervensystem &amp; schlafe schneller ein</span>
        </button>
      </div>
    </div>
  </section>

  <!-- ============ SETTINGS SCREEN (per exercise) ============ -->
  <section id="settings" class="screen">
    <button class="back-btn" id="backToHome" data-i18n="back">â† ZurÃ¼ck</button>
    <div class="settings-content" id="settingsContent">
      <!-- dynamically filled -->
    </div>
  </section>

  <!-- ============ ACTIVE EXERCISE SCREEN ============ -->
  <section id="exercise" class="screen">
    <button class="back-btn" id="backToSettings" data-i18n="back">â† ZurÃ¼ck</button>

    <div class="exercise-display">
      <p class="phase-label" id="phaseLabel">BEREIT MACHEN</p>

      <!-- circular progress ring -->
      <div class="timer-ring-wrap">
        <svg class="timer-ring" viewBox="0 0 200 200">
          <circle class="ring-bg" cx="100" cy="100" r="90"/>
          <circle class="ring-fg" cx="100" cy="100" r="90" id="ringFg"/>
        </svg>
        <div class="timer-center">
          <span class="timer-text" id="timerText">00:00</span>
        </div>
      </div>

      <p class="round-label" id="roundLabel"></p>
      <p class="instruction-text" id="instructionText"></p>

      <div class="exercise-controls">
        <button class="ctrl-btn" id="toggleTimerBtn" title="Show / Hide timer">
          <span id="eyeIcon">ğŸ‘ï¸</span>
        </button>
        <button class="ctrl-btn primary" id="startPauseBtn" data-i18n="start">Start</button>
        <button class="ctrl-btn" id="stopBtn" title="Stop">â¹</button>
      </div>
    </div>
  </section>

  <!-- ============ INFO / RESEARCH MODAL ============ -->
  <div class="info-overlay" id="infoOverlay">
    <div class="info-modal">
      <button class="info-close-btn" id="infoCloseBtn">&times;</button>
      <div class="info-body" id="infoBody"></div>
    </div>
  </div>

  <!-- scripts -->
  <script src="ocean.js"></script>
  <script src="i18n.js"></script>
  <script src="research.js"></script>
  <script src="app.js"></script>
</body>
</html>
